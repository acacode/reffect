var global,factory;global=this,factory=function(e,t){e.undoable=(e,o=10)=>{const f=t.manage(e),a=[];let r=f.initialState;const l=[];return f.subscribe((e,t,f)=>{o>a.length||a.shift(),a.push(t),r=f}),{undo:()=>{if(a.length){const e=a.pop();e&&(l.push(r),r=e,f.partialUpdate(r))}},redo:()=>{if(l.length){const e=l.shift();e&&(a.push(r),r=e,f.partialUpdate(r))}}}},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@reffect/core")):"function"==typeof define&&define.amd?define(["exports","@reffect/core"],factory):factory((global=global||self).reffectUndoable={},global.reffect);
//# sourceMappingURL=reffect-undoable.umd.js.map
