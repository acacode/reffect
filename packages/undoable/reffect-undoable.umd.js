var global,factory;global=this,factory=function(e,t){e.undoable=(e,o=10)=>{const f=t.manage(e),l=[];let n=f.initialState;const a=[];let r=!1;return f.subscribe((e,t,f)=>{r?r=!1:(a.length&&a.splice(0,a.length),o>l.length||l.shift(),l.push(t),n=f)}),{undo:()=>{if(l.length){const e=l.pop();e&&(a.unshift(n),n=e,r=!0,f.partialUpdate(n))}},redo:()=>{if(a.length){const e=a.shift();e&&(l.push(n),n=e,r=!0,f.partialUpdate(n))}}}},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@reffect/core")):"function"==typeof define&&define.amd?define(["exports","@reffect/core"],factory):factory((global=global||self).reffectUndoable={},global.reffect);
//# sourceMappingURL=reffect-undoable.umd.js.map
